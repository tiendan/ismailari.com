<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr-TR">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="İsmail Arı&#039;nın anasayfası" />
<meta name="generator" content="WordPress 3.8.5" /><!-- Please leave for stats -->
<link rel="icon" type="image/png" href="../../wp-content/themes/iacom/assets/img/iacom.png">

<title>Yüz takibiyle fare oynatmaca | ismailari.com</title>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({ 
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    showProcessingMessages : false,
    messageStyle : "none" ,    
    showMathMenu: false ,
    TeX: { 
      equationNumbers: {autoNumber: "all"},
      Macros: {
      R: "{\\mathbb R}",
      sign: "{\\mathop{\\mathrm{sign}}}",
      argmax: "\\mathop{\\rm arg \\, max \\,}\\limits",
      argmin: "\\mathop{\\rm arg \\, min \\,}\\limits",	
      },
      extensions: ["AMSmath.js", "AMSsymbols.js"]
    },
  });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<link href="../../wp-content/themes/iacom/assets/css/bootstrap-orig.css" rel="stylesheet">
<link href="../../wp-content/themes/iacom/assets/css/bootstrap-responsive.css" rel="stylesheet">
<link href="../../wp-content/themes/iacom/assets/css/docs.css" rel="stylesheet">
<link href="../../wp-content/themes/iacom/assets/css/tomorrow.css" type="text/css" rel="stylesheet" />


<style type="text/css">
  body {
	padding-bottom: 40px;
  }
</style>


<script type="text/javascript" src="../../wp-content/themes/iacom/google-code-prettify/prettify.js"></script>
<script type="text/javascript" src="../../wp-content/themes/iacom/google-code-prettify/lang-matlab.js"></script>

<link rel="alternate" type="application/rss+xml" title="ismailari.com &raquo; Yüz takibiyle fare oynatmaca Yorum Beslemesi" href="feed/index.html" />
<link rel='stylesheet' id='usernoise-button-css'  href='../../wp-content/plugins/usernoise/css/button-ver=3.7.9.css' type='text/css' media='all' />
<link rel='stylesheet' id='usernoise-form-css'  href='../../wp-content/plugins/usernoise/css/form-ver=3.7.9.css' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='../../wp-content/plugins/usernoise/vendor/font-awesome/css/font-awesome-ver=3.7.9.css' type='text/css' media='all' />
<link rel='stylesheet' id='tablepress-default-css'  href='../../wp-content/plugins/tablepress/css/default.min-ver=1.3.css' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var usernoiseButton = {"text":"ileti\u015fim","style":"background-color: #404040; color: #FFFFFF","class":"un-left un-has-border","windowUrl":"\/wp-admin\/admin-ajax.php?action=un_load_window","showButton":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/usernoise/js/usernoise.js?ver=3.7.9'></script>
<script type='text/javascript' src='../../wp-content/plugins/usernoise/js/button.js?ver=3.7.9'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc-rsd.php.html" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Açık yayın manifestosu' href='../acik-yayin-manifestosu/index.html' />
<link rel='next' title='Kod istatistikleri' href='../kod-istatistikleri/index.html' />
<meta name="generator" content="WordPress 3.8.5" />
<link rel='shortlink' href='http://wp.me/pGadj-nY' />
<style type="text/css">
* {
	text-rendering: optimizeLegibility;
}
sup {
	vertical-align: 60%;
	font-size: 75%;
	line-height: 100%;
}
sub {
	vertical-align: -10%;
	font-size: 75%;
	line-height: 100%;
}
.amp {
	font-family: Baskerville, "Goudy Old Style", "Palatino", "Book Antiqua", "Warnock Pro", serif;
	font-weight: normal;
	font-style: italic;
	font-size: 1.1em;
	line-height: 1em;
}
.caps {
	font-size: 90%;
}
.dquo {
	margin-left:-.40em;
}
.quo {
	margin-left:-.2em;
}
/* because formatting .numbers should consider your current font settings, we will not style it here */
</style>

<!-- All in One SEO Pack 2.1.1 by Michael Torbert of Semper Fi Web Design[551,632] -->
<meta name="description" content="Hep merak etmişimdir, işimiz insan-bilgisayar etkileşimi ama bilgisayar bizle etkileşiyor, biz onunla nasıl etkileşeceğiz diye. GNU/Linux kullan" />

<meta name="keywords" content="python" />

<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
    });

</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  MMLorHTML: {
    prefer: {Firefox: "HTML"}
  }
});
</script>


<script src="../../wp-content/themes/iacom/assets/js/iacom.js"></script>

<link rel="stylesheet" href="../../wp-content/themes/iacom/style.css" type="text/css" media="screen" />

<link rel="alternate" type="application/rss+xml" title="ismailari.com RSS Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="ismailari.com Comments RSS Feed" href="../../comments/feed/index.html"  />

<link rel="pingback" href="../../xmlrpc.php.html" />	


</head>

<body onload="prettyPrint()">
<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li><a class="" href="../../index.html">İsmail Arı</a></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Yazılar<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="../index.html">Son Yazılar</a></li>
              <li><a href="../../tum-yazilar/index.html">Tüm Yazılar</a></li>
              <li class="divider"></li>
              <li><a href="http://feeds.feedburner.com/ismailari">Yazılara Abone Ol</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Notlar<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li class="nav-header">MATLAB Notları</li>
              <li><a href="../matlab-programlamaya-giris/index.html">MATLAB Programlamaya Giriş</a></li>
              <li><a href="../matlab-ile-imge-islemeye-giris/index.html">MATLAB ile İmge İşlemeye Giriş</a></li>
              <li class="divider"></li>
              <li class="nav-header">Yapay Öğrenme</li>
              <li><a href="../temel-bilesenler-analizi/index.html">Temel Bileşenler Analizi (PCA)</a></li>
              <li><a href="../tekil-deger-ayrisimi-1/index.html">Tekil Değer Ayrışımı (SVD)</a></li>
              <li class="divider"></li>
              <li class="nav-header">Akademisyene Reçeteler</li>
              <li><a href="../bir-makaleyi-nasil-okumali/index.html">Bir Makaleyi Nasıl Okumalı?</a></li>
            </ul>
          </li>
          <li><a href="../../acik-ders/index.html">Açık Ders</a></li>
          <li><a href="../../baglantilar/index.html">Bağlantılar</a></li>
        </ul>
        <form class="navbar-search" method="get" action="http://ismailari.com">
          <input type="text" class="search-query span2" placeholder="Ara" id="s" name="s" type="text"  value="">
        </form>
        
      </div>
    </div>
  </div>
</div>

	
	 <div class="container">
	<div id="content" class="row">
	<div class="span8">
		
				<div id="post-1486" class="post">
			<h1 class="post-title">Yüz takibiyle fare oynatmaca</h1>								
			<div class="post-meta-top">İsmail Arı, 22 Ekim 2009</div>
			<div class="post-content">
				<p>Hep merak etmişimdir, işimiz <em>insan-bilgisayar etkileşimi</em> ama bilgisayar bizle etkileşiyor, biz onunla nasıl etkileşeceğiz diye. GNU/Linux kullanıyorsanız 15 dakikada bilgisayarınızı <a onclick="javascript:pageTracker._trackPageview('/outgoing/www.imdb.com/title/tt0181689/');"  href="http://www.imdb.com/title/tt0181689/" target="_blank">Azınlık Raporu</a>’ndaki muhteşem etkileşim sahnesinin çoook minimal haline getirebilir ve küçük Tom Cruise’u oynayabilirsiniz.</p>
<p>İhtiyacımız olan paketler: python, <a onclick="javascript:pageTracker._trackPageview('/outgoing/opencv.org/');"  href="http://opencv.org/" target="_blank">opencv</a> (halihazırda python kodları geliyor) ve <a onclick="javascript:pageTracker._trackPageview('/outgoing/www.semicomplete.com/projects/xdotool/');"  href="http://www.semicomplete.com/projects/xdotool/" target="_blank">xdotool</a></p>
<p><span id="more-1486"></span><br />
Tarif:</p>
<ul>
<li>Üstteki paketleri sisteminize kurun. Ben Ubuntu kullandığım için <code>apt-get</code> ile kurdum, depoda mevcuttular.</li>
<li>Sonra alttaki koddaki gerekli yerleri değiştirip eğlenin (değiştirmeniz gerekebilecek yerlerde !!! var).</li>
</ul>
<p>Kod özetle şunu yapıyor: Opencv kullanarak yüzünüzü buluyor. Ardından bulduğu konuma göre farenin (imlecin) yerini güncelliyor. Kafanızı sağa sola hareket ettirdikçe fare oynuyor. Hani blobby oyunu vardı, fareyle oynanabilen voleybol oyunu. Eğer yurtta kaldıysanız belki bilirsiniz, efsane yurt oyunlarındandır. İşte öyle bir oyunu bu şekilde oynamanın önü açık. Yurtta işiniz gücünüz yoksa kodu geliştirip kafanızla topa vuruyormuşçasına blobby oynayabilirsiniz.</p>
<pre class="brush:python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
 
"""Yüz takibi ile fare oynatmaca
 
İsmail Arı, 2008
 
Not: Çıkmak için bir tuşa basın"""
 
import os
import sys
from opencv.cv import *
from opencv.highgui import *
 
# Opencv'nin yüklü olduğu klasörde haarcascades_bişeybişey.xml tarzı dosyalar olacak.
# Bunlar yüz modelleri dosyaları. Onlardan ben karşıdan olanı kullanıyorum ama istediğinizi seçip deneyebilirsiniz.
cascade_name = "modellerin_oldugu_klasor/haarcascade_frontalface_alt.xml" # !!!
 
# Haar tabanlı yüz bulma için parametreler hakkında:
# http://opencv.willowgarage.com/documentation/python/pattern_recognition.html?highlight=cvhaardetectobjects#HaarDetectObjects
# varsayılan değerler şöyleydi: scale_factor=1.1, min_neighbors=3, flags=0, min_size=(0, 0)
# !!!
min_size = cvSize(20, 20)
scale_factor = 1.2
min_neighbors = 3
haar_flags = CV_HAAR_DO_CANNY_PRUNING
 
# Global değişkenler
cascade = None
storage = cvCreateMemStorage(0)
input_name = 0 # ilk kamera
 
def detect_and_draw( img ):
    gray = cvCreateImage( cvSize(img.width,img.height), 8, 1 );
    small_img = cvCreateImage( cvSize( cvRound (img.width/scale_factor),
                                    cvRound (img.height/scale_factor)), 8, 1 );
    cvCvtColor( img, gray, CV_BGR2GRAY );
    cvResize( gray, small_img, CV_INTER_LINEAR );
 
    cvEqualizeHist( small_img, small_img );
 
    cvClearMemStorage( storage );
 
    if( cascade ):
        t = cvGetTickCount();
        faces = cvHaarDetectObjects( small_img, cascade, storage,
                                    scale_factor, min_neighbors, haar_flags, min_size );
        t = cvGetTickCount() - t;
        print "Bulma zamani = %gms" % (t/(cvGetTickFrequency()*1000.))
        if faces:
            for r in faces:
                pt1 = cvPoint( int(r.x*scale_factor), int(r.y*scale_factor))
                pt2 = cvPoint( int((r.x+r.width)*scale_factor), int((r.y+r.height)*scale_factor) )
                cvRectangle( img, pt1, pt2, CV_RGB(255,0,0), 3, 8, 0 )
                cx = (pt1.x + pt2.x) / 2
                cy = (pt1.y + pt2.y) / 2
                os.system("xdotool mousemove " + str(2*cx) + " " + str(2*cy)) # xdotool'a koordinatları gönderelim
 
 
    cvShowImage( "Sonuc", img );
 
 
if __name__ == '__main__':
 
    cascade = cvLoadHaarClassifierCascade( cascade_name, cvSize(1,1) )
 
    if not cascade:
        print "HATA: xml dosyasini dogru verdiginize emin misiniz?"
        sys.exit(-1)
 
    capture = cvCreateCameraCapture( int(input_name) )
 
    cvNamedWindow( "Sonuc", 1 )
 
    frame_copy = None
    while True: 
        frame = cvQueryFrame( capture )
        if( not frame ):
            break;
        if( not frame_copy ):
            frame_copy = cvCreateImage( cvSize(frame.width,frame.height),
                                        IPL_DEPTH_8U, frame.nChannels )
 
        cvFlip( frame, frame_copy, 1 ) # Buna gerek olmayabilir, benim kamerada gerek oldu
 
        detect_and_draw( frame_copy )
 
        if( cvWaitKey( 10 ) &gt;= 0 ):
            break;
 
    cvDestroyWindow("Sonuc")</pre>
<p>Dediğim gibi bu çook minimal bir etkileşim gösterimidir. Fareyi nasıl kontrol edebiliriz diye meraktan denemiştim. Eğlencesine yani. O sebeple kod farklı yerlerden kopyala-yapıştır, değiştir-dene tarzı oldu ve normalde yazılması gereken temiz, güzel kod standartından çok uzak.</p>

			
			</div>


			<div class="post-meta-bottom well well-small"><span class="pull-left">Kategori: <a href="../../kategori/programlama/index.html" title="Programlama kategorisindeki tüm yazıları göster" rel="category tag">Programlama</a>  <span class="separator">|</span> Etiketler: <a href="../../etiket/python/index.html" rel="tag">python</a></span>
                        <span class="pull-right">Son güncelleme: 14 Aralık 2013                                                </span></br>
			<span class="pull-left"> &laquo; <a href="../acik-yayin-manifestosu/index.html" rel="prev">Açık yayın manifestosu</a></span>
			<span class="pull-right"><a href="../kod-istatistikleri/index.html" rel="next">Kod istatistikleri</a> &raquo;</span><br/>
			</div>
			<div class="clear"></div>
		</div><!-- .post -->
		<p><!-- Hupso Share Buttons - http://www.hupso.com/share/ --><a class="hupso_counters" href="http://www.hupso.com/share/"><img src="../../wp-content/uploads/2013/05/paylas.png" style="border:0px; padding-top:2px; float:left;" alt="Share Button"/></a><script type="text/javascript">var hupso_services_c=new Array("twitter","facebook_like","google");var hupso_counters_lang = "tr_TR";</script><script type="text/javascript" src="http://static.hupso.com/share/js/counters.js"></script><!-- Hupso Share Buttons --></p>
		<p><a href="http://feeds.feedburner.com/ismailari"><img src=../../wp-content/uploads/2013/05/abone_ol.png></a> <a href="http://feeds.feedburner.com/ismailari"><img src="http://feeds.feedburner.com/~fc/ismailari?bg=FFFFFF&fg=003300&anim=0&label=okur" height="26" width="88" style="border:0" alt="Yazılara abone ol" title="Yazılara abone ol" /></a></p>

		<div id="comments">


<!-- You can start editing here. -->


			<!-- If comments are open, but there are no comments. -->

	 
</div>




<div id="respond">

	<h2 class="section-title">Yorum ekle</h2>

	<form method="post" action="http://ismailari.com/wp-comments-post.php">	
	
		<div id="comment-form">
	
			
		<label for="author">İsim (gerekli)</label></br>
		<input type="text" name="author" id="author" value="" size="40" tabindex="1" aria-required='true' />

		<label for="email">E-posta (yayınlanmayacaktır) (gerekli)</label></br>
		<input type="text" name="email" id="email" value="" size="40" tabindex="2" aria-required='true' />

		<label for="url">İnternet sitesi</label>
		<input type="text" name="url" id="url" value="" size="40" tabindex="3" /></br>
		
				<label for="comment">Yorum</label>
		<textarea name="comment" id="comment" cols="80%" rows="10" class="span8" tabindex="4"></textarea>
		
		</div>							

		<input name="submit" type="submit" id="submit" tabindex="5" value="Yorumu gönder" />
		<input type="hidden" name="comment_post_ID" value="1486" />
		<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="f267e46f0d" /></p><!-- BEGIN: subscribe to comments reloaded --><p><input style='width:30px' type='checkbox' name='subscribe-reloaded' id='subscribe-reloaded' value='yes' /> Yorumları bana e-posta ile yolla. Yorum girmeden de <a href='../../index-page_id=345&srp=1486&sra=s.html'>abone</a> olabilirsiniz.</p><!-- END: subscribe to comments reloaded -->
	</form>

</div>



		

<div id="footer">
<br />
<hr noshade="noshade" color="#CCCCCC"/>	
    ismailari.com &copy; 2015</div><!-- #footer -->
</div></div>
<script>function hefo_popup(url, width, height) {
var left = Math.round(screen.width/2-width/2); var top = 0;
if (screen.height > height) top = Math.round(screen.height/2-height/2);
window.open(url, "share", "scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=" + width + ",height=" + height + ",left=" + left + ",top=" + top);
return false;
}</script>
<!-- tracker added by Ultimate Google Analytics plugin v1.6.0: http://www.oratransplant.nl/uga -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1563790-10");
pageTracker._initData();
pageTracker._trackPageview();
</script>
<div id="un-thankyou" style="display: none;">
	<h2>Teşekkürler</h2>
	<p>
		Geribildiriminiz iletilmiştir.	</p>
	<a href="#" id="un-feedback-close"><img src="../../wp-content/plugins/usernoise/images/ok.png" id="thankyou-image" alt="Close"></a>
</div>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201515'></script>

	<script src="http://stats.wordpress.com/e-201515.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.7.2',blog:'10049041',post:'1486',tz:'2'});
	var load_cmc = function(){linktracker_init(10049041,1486,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script>
<script src="../../wp-content/themes/iacom/assets/js/jquery.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-transition.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-alert.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-modal.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-dropdown.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-scrollspy.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-tab.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-tooltip.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-popover.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-button.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-collapse.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-carousel.js"></script>
<script src="../../wp-content/themes/iacom/assets/js/bootstrap-typeahead.js"></script>

<script>
$('.gist').each(
 function() { if($(this).find('.gist-data').height() < 80) {
                  $(this).find('.line-numbers').hide(); 
              }
            }
);
$('.gist-meta').hide();
</script>


</body>
</html>
<!-- Localized -->